/**
 * ============================================================
 * Task Plaza - Global Stylesheet
 * ============================================================
 * Primary color: #173A81 | Meets WCAG 2.2 AA
 *
 * HTML usage: <link rel="stylesheet" href="style.css">
 * React usage: import './style.css';
 * ============================================================
 */


/* ===========================================
   1. Design Tokens
   =========================================== */
:root {
    /* ----- Primary color scale ----- */
    --color-primary-50:  #E8EEF7;
    --color-primary-100: #C5D4EB;
    --color-primary-200: #9BB5DB;
    --color-primary-300: #6E94C9;
    --color-primary-400: #4A75B5;
    --color-primary-500: #2D5A9E;
    --color-primary-600: #173A81;  /* ★ Primary brand color */
    --color-primary-700: #122E68;
    --color-primary-800: #0D2250;
    --color-primary-900: #081738;

    /* ----- Background colors ----- */
    --color-bg-page:    #F7F9FC;
    --color-bg-surface: #FFFFFF;
    --color-bg-subtle:  #EEF2F7;
    --color-bg-sidebar: #173A81;

    /* ----- Text colors ----- */
    --color-text-strong:   #0F1624;
    --color-text-default:  #1F2937;
    --color-text-muted:    #4D5D73;
    --color-text-soft:     #6E7F96;
    --color-text-disabled: #9AA8BC;

    /* ----- Border colors ----- */
    --color-border-subtle:  #DDE4EE;
    --color-border-default: #C4CFDD;

    /* ----- Semantic colors ----- */
    --color-success: #059669;
    --color-warning: #D97706;
    --color-error:   #DC2626;

    /* ----- Category tags ----- */
    --tag-campus-bg:     #DBEAFE;
    --tag-campus-text:   #1E40AF;
    --tag-daily-bg:      #FEF3C7;
    --tag-daily-text:    #B45309;
    --tag-academic-bg:   #D1FAE5;
    --tag-academic-text: #047857;
    --tag-other-bg:      #F3E8FF;
    --tag-other-text:    #7C3AED;

    /* ----- Urgency tags ----- */
    --tag-urgent-bg:     #FEE2E2;
    --tag-urgent-text:   #B91C1C;
    --tag-flexible-bg:   #E0F2FE;
    --tag-flexible-text: #0369A1;
    --tag-normal-bg:     #F3F4F6;
    --tag-normal-text:   #4B5563;

    /* ----- Verification tags ----- */
    --tag-verified-bg:   #D1FAE5;
    --tag-verified-text: #047857;

    /* ----- Spacing ----- */
    --spacing-xs:  4px;
    --spacing-sm:  8px;
    --spacing-md:  12px;
    --spacing-lg:  16px;
    --spacing-xl:  24px;
    --spacing-2xl: 32px;

    /* ----- Border radius ----- */
    --radius-sm:   6px;
    --radius-md:   8px;
    --radius-lg:   12px;
    --radius-xl:   16px;
    --radius-full: 100px;

    /* ----- Shadows ----- */
    --shadow-sm: 0 1px 2px rgba(15, 22, 36, 0.05);
    --shadow-md: 0 4px 6px rgba(15, 22, 36, 0.07);
    --shadow-lg: 0 8px 24px rgba(23, 58, 129, 0.1);

    /* ----- Focus ring ----- */
    --focus-ring: 0 0 0 3px rgba(23, 58, 129, 0.3);

    /* ----- Transitions ----- */
    --transition: 0.2s ease;
}


/* ===========================================
   2. Base Reset
   =========================================== */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html, body, #root {
    height: 100%;
}

body {
    background-color: var(--color-bg-page);
    color: var(--color-text-default);
    font-family: "SF Pro Text", -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
    font-size: 15px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
}

h1, h2, h3, h4, h5, h6 {
    color: var(--color-text-strong);
    font-weight: 700;
}

p { margin: 0 0 0.75em; }

a {
    color: var(--color-primary-600);
    text-decoration: none;
}
a:hover {
    color: var(--color-primary-700);
    text-decoration: underline;
}

ul, ol { list-style: none; }
img, svg { display: block; max-width: 100%; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
input, textarea, select { font-family: inherit; }


/* ===========================================
   3. Layout
   =========================================== */
.app-container {
    display: flex;
    min-height: 100vh;
}

.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}


/* ===========================================
   4. Sidebar
   =========================================== */
.sidebar {
    width: 240px;
    background: linear-gradient(180deg, #173A81 0%, #102a5c 100%);
    color: #f8fbff;
    flex-shrink: 0;
    min-height: 100vh;
}

.sidebar-inner {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 28px 20px 24px;
    gap: 24px;
}

.sidebar-logo {
    display: flex;
    align-items: center;
    gap: 12px;
    padding-bottom: 12px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.12);
}

.sidebar-logo-mark {
    width: 42px;
    height: 42px;
    border-radius: 12px;
    background: rgba(255, 255, 255, 0.12);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    letter-spacing: 0.08em;
}

.sidebar-logo-text span {
    display: block;
    font-weight: 700;
    font-size: 1rem;
}

.sidebar-logo-text p {
    margin: 0;
    font-size: 0.78rem;
    color: rgba(255, 255, 255, 0.6);
}

.sidebar-nav {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1;
}

.sidebar-nav-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 10px;
    border: none;
    background: transparent;
    color: rgba(255, 255, 255, 0.7);
    font-size: 0.95rem;
    font-weight: 500;
    transition: background 0.2s ease, color 0.2s ease;
    cursor: pointer;
    width: 100%;
    text-align: left;
}

.sidebar-nav-item:hover {
    background: rgba(255, 255, 255, 0.1);
    color: #fff;
}

.sidebar-nav-item.active {
    background: #fff;
    color: #173A81;
    box-shadow: 0 4px 14px rgba(15, 22, 36, 0.25);
}

.sidebar-nav-icon {
    width: 20px;
    height: 20px;
}

.sidebar-nav-badge {
    margin-left: auto;
    padding: 2px 8px;
    border-radius: 999px;
    background: rgba(15, 22, 36, 0.15);
    font-size: 0.75rem;
}

.sidebar-nav-item.active .sidebar-nav-badge {
    background: rgba(23, 58, 129, 0.15);
    color: #173A81;
}

.sidebar-footer {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

.sidebar-cta {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px 14px;
    border-radius: 10px;
    border: none;
    background: rgba(255, 255, 255, 0.18);
    color: #fff;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s ease;
}

.sidebar-cta:hover {
    background: rgba(255, 255, 255, 0.28);
}

.sidebar-user {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 0;
    border-top: 1px solid rgba(255, 255, 255, 0.12);
}

.sidebar-avatar {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.18);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
}

.sidebar-user-name {
    margin: 0;
    font-weight: 600;
    font-size: 0.95rem;
}

.sidebar-user-role {
    margin: 0;
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.6);
}


/* ===========================================
   5. Top Navigation
   =========================================== */
.header {
    background-color: var(--color-bg-surface);
    border-bottom: 1px solid var(--color-border-subtle);
    padding: var(--spacing-lg) var(--spacing-2xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-xl);
}

.logo {
    font-size: 1.5rem;
    font-weight: 800;
    color: var(--color-primary-600);
    white-space: nowrap;
}

.search-box {
    flex: 1;
    max-width: 600px;
    position: relative;
}

.search-input {
    width: 100%;
    padding: 12px 16px 12px 44px;
    font-size: 0.95rem;
    border: 2px solid var(--color-border-subtle);
    border-radius: 10px;
    background-color: var(--color-bg-surface);
    color: var(--color-text-default);
    transition: border-color var(--transition), box-shadow var(--transition);
}
.search-input:focus {
    outline: none;
    border-color: var(--color-primary-500);
    box-shadow: 0 0 0 3px rgba(23, 58, 129, 0.12);
}
.search-input::placeholder {
    color: var(--color-text-disabled);
}

.search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-text-disabled);
}


/* ===========================================
   6. Buttons
   =========================================== */
.btn-post,
.btn-primary {
    padding: 12px 28px;
    font-size: 0.95rem;
    font-weight: 600;
    background-color: var(--color-primary-600);
    color: white;
    border: none;
    border-radius: 10px;
    transition: background-color var(--transition);
    white-space: nowrap;
}
.btn-post:hover,
.btn-primary:hover {
    background-color: var(--color-primary-700);
}
.btn-post:focus,
.btn-primary:focus {
    outline: none;
    box-shadow: var(--focus-ring);
}

.btn-action {
    flex: 1;
    padding: 10px 16px;
    font-size: 0.9rem;
    font-weight: 600;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all var(--transition);
}

.btn-ask {
    background-color: var(--color-bg-surface);
    color: var(--color-primary-600);
    border: 2px solid var(--color-primary-600);
}
.btn-ask:hover {
    background-color: var(--color-primary-50);
}

.btn-claim {
    background-color: var(--color-primary-600);
    color: white;
    border: 2px solid var(--color-primary-600);
}
.btn-claim:hover {
    background-color: var(--color-primary-700);
    border-color: var(--color-primary-700);
}

.btn-action:focus {
    outline: none;
    box-shadow: var(--focus-ring);
}


/* ===========================================
   7. Sort Bar
   =========================================== */
.sort-bar {
    padding: 14px var(--spacing-2xl);
    display: flex;
    align-items: center;
    gap: var(--spacing-lg);
    background-color: var(--color-bg-surface);
    border-bottom: 1px solid var(--color-border-subtle);
}

.sort-label {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--color-text-muted);
}
.sort-label svg {
    color: var(--color-primary-500);
}

.sort-options {
    display: flex;
    gap: var(--spacing-sm);
}

.sort-btn {
    padding: 8px 18px;
    font-size: 0.85rem;
    font-weight: 500;
    background-color: var(--color-bg-subtle);
    color: var(--color-text-muted);
    border: 1px solid transparent;
    border-radius: var(--radius-md);
    transition: all var(--transition);
}
.sort-btn:hover {
    background-color: var(--color-primary-50);
    color: var(--color-primary-600);
}
.sort-btn.active {
    background-color: var(--color-primary-600);
    color: white;
}
.sort-btn:focus {
    outline: none;
    box-shadow: var(--focus-ring);
}


/* ===========================================
   8. Task List
   =========================================== */
.task-list {
    flex: 1;
    overflow-y: auto;
    padding: var(--spacing-xl) var(--spacing-2xl);
}

.task-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
    gap: 20px;
}


/* ===========================================
   9. Task Card
   =========================================== */
.task-card {
    background-color: var(--color-bg-surface);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-xl);
    padding: 20px 24px;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
    transition: box-shadow var(--transition), border-color var(--transition);
}
.task-card:hover {
    border-color: var(--color-primary-300);
    box-shadow: var(--shadow-lg);
}

.task-title {
    font-size: 1.15rem;
    font-weight: 700;
    color: var(--color-text-strong);
    margin: 0;
}

.task-meta {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex-wrap: wrap;
}

.task-credits {
    font-size: 0.95rem;
    color: var(--color-primary-600);
    font-weight: 700;
}
.task-credits span {
    font-weight: 400;
    color: var(--color-text-muted);
}

.task-details {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-xs);
    font-size: 0.9rem;
    color: var(--color-text-muted);
}

.task-details-item {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.task-details-icon {
    width: 16px;
    color: var(--color-text-soft);
}

.task-actions {
    display: flex;
    gap: var(--spacing-md);
    margin-top: var(--spacing-sm);
    padding-top: var(--spacing-lg);
    border-top: 1px solid var(--color-border-subtle);
}


/* ===========================================
   10. Tags
   =========================================== */
.task-tag {
    padding: 4px 12px;
    font-size: 0.8rem;
    font-weight: 600;
    border-radius: var(--radius-full);
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

/* Category */
.task-tag.campus   { background: var(--tag-campus-bg);   color: var(--tag-campus-text); }
.task-tag.daily    { background: var(--tag-daily-bg);    color: var(--tag-daily-text); }
.task-tag.academic { background: var(--tag-academic-bg); color: var(--tag-academic-text); }
.task-tag.other    { background: var(--tag-other-bg);    color: var(--tag-other-text); }

/* Urgency level */
.task-tag.urgent   { background: var(--tag-urgent-bg);   color: var(--tag-urgent-text); }
.task-tag.flexible { background: var(--tag-flexible-bg); color: var(--tag-flexible-text); }
.task-tag.normal   { background: var(--tag-normal-bg);   color: var(--tag-normal-text); }

/* Verification */
.task-tag.verified { background: var(--tag-verified-bg); color: var(--tag-verified-text); }
.task-tag.verified svg { width: 12px; height: 12px; }


/* ===========================================
   11. Forms
   =========================================== */
.form-group {
    margin-bottom: var(--spacing-lg);
}

.form-label {
    display: block;
    font-weight: 600;
    color: var(--color-text-strong);
    margin-bottom: var(--spacing-sm);
    font-size: 0.9rem;
}

.form-input {
    width: 100%;
    padding: 12px 16px;
    font-size: 1rem;
    border: 2px solid var(--color-border-subtle);
    border-radius: 10px;
    background-color: var(--color-bg-surface);
    color: var(--color-text-default);
    transition: border-color var(--transition), box-shadow var(--transition);
}
.form-input:focus {
    outline: none;
    border-color: var(--color-primary-600);
    box-shadow: 0 0 0 3px rgba(23, 58, 129, 0.15);
}
.form-input::placeholder {
    color: var(--color-text-disabled);
}
.form-input.error {
    border-color: var(--color-error);
}

.form-hint {
    font-size: 0.85rem;
    color: var(--color-text-soft);
    margin-top: var(--spacing-xs);
}

.form-error {
    font-size: 0.85rem;
    color: var(--color-error);
    margin-top: var(--spacing-xs);
}


/* ===========================================
   12. Alerts
   =========================================== */
.alert {
    padding: var(--spacing-lg) 20px;
    border-radius: var(--radius-lg);
    display: flex;
    align-items: flex-start;
    gap: var(--spacing-md);
    border-left: 4px solid;
}

.alert-info {
    background-color: var(--color-primary-50);
    border-left-color: var(--color-primary-600);
    color: var(--color-primary-800);
}

.alert-success {
    background-color: #ECFDF5;
    border-left-color: var(--color-success);
    color: #047857;
}

.alert-warning {
    background-color: #FFFBEB;
    border-left-color: var(--color-warning);
    color: #B45309;
}

.alert-error {
    background-color: #FEF2F2;
    border-left-color: var(--color-error);
    color: #B91C1C;
}


/* ===========================================
   13. Generic Card
   =========================================== */
.card {
    background-color: var(--color-bg-surface);
    border: 1px solid var(--color-border-subtle);
    border-radius: var(--radius-lg);
    padding: 20px 22px;
    box-shadow: var(--shadow-sm);
}


/* ===========================================
   14. Utilities
   =========================================== */
.text-strong   { color: var(--color-text-strong); }
.text-muted    { color: var(--color-text-muted); }
.text-soft     { color: var(--color-text-soft); }
.text-primary  { color: var(--color-primary-600); }
.text-success  { color: var(--color-success); }
.text-error    { color: var(--color-error); }

.font-medium   { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold     { font-weight: 700; }

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}


/* ===========================================
   15. Responsive (移除导致布局断裂的逻辑)
   =========================================== */
@media (max-width: 768px) {
    .sidebar { width: 56px; }

    /* .header {
        padding: var(--spacing-md) var(--spacing-lg);
        flex-wrap: wrap;
    } */

    .search-box {
        /* order: 3; */
        /* max-width: 100%; */
        /* width: 100%; */
    }

    .sort-bar {
        padding: var(--spacing-md) var(--spacing-lg);
        overflow-x: auto;
    }

    .task-list { padding: var(--spacing-lg); }

    .task-grid { grid-template-columns: 1fr; }
}

